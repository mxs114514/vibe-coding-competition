# AI é£Ÿè°±ç”Ÿæˆå™¨ - å‰ç«¯é¡µé¢è®¾è®¡æ–‡æ¡£

## ä¸€ã€æ•´ä½“è®¾è®¡æ¦‚è¿°

### 1.1 è®¾è®¡ç†å¿µ

**æ ¸å¿ƒç†å¿µ:** å°†å¨æˆ¿åœºæ™¯æ•°å­—åŒ–,æ‰“é€ æ²‰æµ¸å¼çš„çƒ¹é¥ªåŠ©æ‰‹ä½“éªŒ

**è®¾è®¡ç›®æ ‡:**

- ğŸ¨ **è§†è§‰åŒ–äº¤äº’:** ç”¨å¨æˆ¿å…ƒç´ (å†°ç®±ã€é¤æ¡Œã€èœè°±ã€è´­ç‰©è½¦)æ›¿ä»£ä¼ ç»Ÿå¯¼èˆª,é™ä½å­¦ä¹ æˆæœ¬
- ğŸ¯ **ä»»åŠ¡å¯¼å‘:** å›´ç»•"é£Ÿæç®¡ç† â†’ èœè°±ç”Ÿæˆ â†’ çƒ¹é¥ªæ‰§è¡Œ"çš„æ ¸å¿ƒæµç¨‹è®¾è®¡
- ğŸ“± **å“åº”å¼è®¾è®¡:** ç§»åŠ¨ç«¯ä¼˜å…ˆ,é€‚é…æ‰‹æœºã€å¹³æ¿ã€æ¡Œé¢ç«¯
- ğŸŒ™ **æ·±è‰²æ¨¡å¼:** æ”¯æŒæµ…è‰²/æ·±è‰²ä¸»é¢˜åˆ‡æ¢,æå‡å¤œé—´ä½¿ç”¨ä½“éªŒ

### 1.2 è§†è§‰é£æ ¼

**ä¸»é¢˜:** æ¸©é¦¨å¨æˆ¿é£æ ¼

- **èƒŒæ™¯:** å¨æˆ¿åœºæ™¯æ’ç”»(æœ¨è´¨å°é¢ã€ç“·ç –å¢™é¢ã€å¨å…·è£…é¥°)
- **è‰²è°ƒ:**
  - æµ…è‰²æ¨¡å¼: æš–è‰²è°ƒ(ç±³é»„#FFF8E7ã€æµ…æœ¨è‰²#D4A574ã€ç™½è‰²#FFFFFF)
  - æ·±è‰²æ¨¡å¼: æ·±ç°#1F2937ã€æ·±è“#1E3A5Fã€æš–æ©™#F59E0Bç‚¹ç¼€
- **å›¾æ ‡:** æ‰å¹³åŒ–è®¾è®¡,å†°ç®±ã€é¤æ¡Œã€èœè°±ã€è´­ç‰©è½¦é‡‡ç”¨æ‹Ÿç‰©åŒ–è´´å›¾

### 1.3 ï¿½ï¿½æœ¯æ ˆ

**å‰ç«¯æ¡†æ¶:**

- Vue 3.5+ (Composition API)
- TypeScript 5.9+
- Vite 7+ (æ„å»ºå·¥å…·)

**UIæ¡†æ¶:**

- Tailwind CSS 4+ (æ ·å¼)
- Headless UI (æ— æ ·å¼ç»„ä»¶)

**çŠ¶æ€ç®¡ç†:**

- Pinia (å…¨å±€çŠ¶æ€)

**å·¥å…·åº“:**

- VueUse (ç»„åˆå¼å·¥å…·)
- Axios (HTTPè¯·æ±‚)
- Day.js (æ—¶é—´å¤„ç†)

---

## äºŒã€é¡µé¢æ¶æ„è®¾è®¡

### 2.1 ä¸»ç•Œé¢å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          [æ·±è‰²æ¨¡å¼åˆ‡æ¢]  [ç”¨æˆ·å¤´åƒ]           â”‚  â† é¡¶éƒ¨æ 
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                             â”‚
â”‚          ğŸ  å¨æˆ¿èƒŒæ™¯åœºæ™¯                     â”‚
â”‚                                             â”‚
â”‚   [å†°ç®±]  [é¤æ¡Œ]  [èœè°±]  [è´­ç‰©è½¦]           â”‚  â† å¯¼èˆªå…ƒç´ 
â”‚                                             â”‚
â”‚                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å¸ƒå±€è¯´æ˜:**

- **é¡¶éƒ¨æ :** å›ºå®šå®šä½,åŒ…å«ä¸»é¢˜åˆ‡æ¢ã€ç”¨æˆ·ä¿¡æ¯
- **ä¸»åœºæ™¯:** å¨æˆ¿èƒŒæ™¯å›¾,å æ®ä¸»è¦è§†å£
- **å¯¼èˆªå…ƒç´ :** ç»å¯¹å®šä½åœ¨å¨æˆ¿åœºæ™¯ä¸­,æ¨¡æ‹ŸçœŸå®å¨æˆ¿å¸ƒå±€
  - å†°ç®±: å·¦ä¾§ (left: 10%, top: 30%)
  - é¤æ¡Œ: ä¸­å¤® (left: 40%, top: 50%)
  - èœè°±: å³ä¸Šæ–¹ (right: 15%, top: 20%)
  - è´­ç‰©è½¦: å³ä¸‹è§’ (right: 10%, bottom: 15%)

### 2.2 å¯¼èˆªç³»ç»Ÿè®¾è®¡

**äº¤äº’æ–¹å¼:** ç‚¹å‡»å¼å¯¼èˆª + é®ç½©å±‚

**å¯¼èˆªå…ƒç´ çŠ¶æ€:**

- **é»˜è®¤çŠ¶æ€:** åŠé€æ˜è´´å›¾,é¼ æ ‡æ‚¬åœæ—¶é«˜äº®
- **æ¿€æ´»çŠ¶æ€:** æ‰“å¼€é®ç½©å±‚,èƒŒæ™¯å˜æš—(rgba(0,0,0,0.7))
- **å…³é—­æ–¹å¼:** ç‚¹å‡»é®ç½©å±‚å¤–éƒ¨åŒºåŸŸ / ç‚¹å‡»å…³é—­æŒ‰é’®

**é®ç½©å±‚è§„èŒƒ:**

- å°ºå¯¸: ç§»åŠ¨ç«¯å…¨å±,æ¡Œé¢ç«¯80%å®½åº¦å±…ä¸­
- åŠ¨ç”»: ä»ä¸‹å‘ä¸Šæ»‘å…¥(ç§»åŠ¨ç«¯) / æ·¡å…¥+ç¼©æ”¾(æ¡Œé¢ç«¯)
- èƒŒæ™¯: ç™½è‰²(æµ…è‰²æ¨¡å¼) / æ·±ç°#1F2937(æ·±è‰²æ¨¡å¼)
- åœ†è§’: 16px(é¡¶éƒ¨)
- é˜´å½±: 0 -4px 20px rgba(0,0,0,0.15)

### 2.3 å“åº”å¼è®¾è®¡ç­–ç•¥

**æ–­ç‚¹è®¾ç½®:**

- ç§»åŠ¨ç«¯: < 768px
- å¹³æ¿ç«¯: 768px - 1024px
- æ¡Œé¢ç«¯: > 1024px

**é€‚é…æ–¹æ¡ˆ:**

| è®¾å¤‡ç±»å‹ | å¯¼èˆªå…ƒç´ å¸ƒå±€ | é®ç½©å±‚æ ·å¼ | å­—ä½“å¤§å° |
|---------|------------|-----------|---------|
| ç§»åŠ¨ç«¯ | åº•éƒ¨å›ºå®šå¯¼èˆªæ  | å…¨å± | 14px |
| å¹³æ¿ç«¯ | å¨æˆ¿åœºæ™¯å¸ƒå±€ | 90%å®½åº¦ | 16px |
| æ¡Œé¢ç«¯ | å¨æˆ¿åœºæ™¯å¸ƒå±€ | 80%å®½åº¦ | 16px |

---

## ä¸‰ã€æ ¸å¿ƒé¡µé¢è®¾è®¡

### 3.1 ä¸»é¡µé¢(å¨æˆ¿èƒŒæ™¯)

**ç»„ä»¶:** `HomeView.vue`

**å¸ƒå±€ç»“æ„:**

```vue
<template>
  <div class="home-container">
    <!-- é¡¶éƒ¨æ  -->
    <TopBar />

    <!-- å¨æˆ¿èƒŒæ™¯ -->
    <div class="kitchen-scene">
      <img src="@/assets/kitchen-bg.png" alt="å¨æˆ¿èƒŒæ™¯" />

      <!-- å¯¼èˆªå…ƒç´  -->
      <NavigationItem
        v-for="item in navItems"
        :key="item.id"
        :item="item"
        @click="openModal(item.id)"
      />
    </div>

    <!-- é®ç½©å±‚å®¹å™¨ -->
    <ModalContainer v-model:visible="modalVisible" :type="currentModal" />
  </div>
</template>
```

**çŠ¶æ€ç®¡ç†:**

```typescript
// stores/navigation.ts
export const useNavigationStore = defineStore('navigation', () => {
  const currentModal = ref<'fridge' | 'table' | 'recipe' | 'cart' | null>(null)
  const modalVisible = ref(false)

  const openModal = (type: string) => {
    currentModal.value = type
    modalVisible.value = true
  }

  const closeModal = () => {
    modalVisible.value = false
    setTimeout(() => currentModal.value = null, 300) // ç­‰å¾…åŠ¨ç”»ç»“æŸ
  }

  return { currentModal, modalVisible, openModal, closeModal }
})
```

### 3.2 å†°ç®±é¡µé¢(é£Ÿæç®¡ç†)

**ç»„ä»¶:** `FridgeModal.vue`

**åŠŸèƒ½æ¨¡å—:**

1. é£Ÿæåˆ—è¡¨å±•ç¤º
2. æœç´¢é£Ÿæ
3. å¢åˆ æ”¹é£Ÿæ

**é¡µé¢å¸ƒå±€:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [X]  å†°ç®±é£Ÿæç®¡ç†                   â”‚  â† æ ‡é¢˜æ 
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [ğŸ” æœç´¢é£Ÿæ...]                    â”‚  â† æœç´¢æ¡†
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ¥¬ ç™½èœ        æ•°é‡: 1é¢—    â”‚   â”‚  â† é£Ÿæåˆ—è¡¨
â”‚  â”‚ ğŸ¥š é¸¡è›‹        æ•°é‡: 6ä¸ª    â”‚   â”‚
â”‚  â”‚ ğŸ… ç•ªèŒ„        æ•°é‡: 3ä¸ª    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [â• æ·»åŠ ] [ğŸ—‘ï¸ åˆ é™¤] [âœï¸ ä¿®æ”¹]      â”‚  â† æ“ä½œæŒ‰é’®
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**UIçŠ¶æ€:**

- **é»˜è®¤çŠ¶æ€:** æ˜¾ç¤ºé£Ÿæåˆ—è¡¨,æ“ä½œæŒ‰é’®ä¸ºé»˜è®¤æ ·å¼
- **æ·»åŠ çŠ¶æ€:** å¼¹å‡ºè¾“å…¥æ¡†(é£Ÿæåç§° + æ•°é‡)
- **åˆ é™¤çŠ¶æ€:** é£Ÿæé¡¹æ˜¾ç¤ºåˆ é™¤å›¾æ ‡,ç‚¹å‡»ç¡®è®¤åˆ é™¤
- **ä¿®æ”¹çŠ¶æ€:** é£Ÿæé¡¹å˜ä¸ºå¯ç¼–è¾‘çŠ¶æ€,æ˜¾ç¤ºä¿å­˜/å–æ¶ˆæŒ‰é’®

**æ•°æ®ç»“æ„:**

```typescript
interface Ingredient {
  id: string
  name: string
  quantity: number
  unit: string
  category: 'è”¬èœ' | 'è‚‰ç±»' | 'æµ·é²œ' | 'ä¸»é£Ÿ' | 'è°ƒå‘³æ–™'
  addedAt: Date
}
```

**çŠ¶æ€ç®¡ç†:**

```typescript
// stores/ingredients.ts
export const useIngredientsStore = defineStore('ingredients', () => {
  const ingredients = ref<Ingredient[]>([])
  const searchQuery = ref('')
  const editMode = ref<'none' | 'add' | 'delete' | 'edit'>('none')

  const filteredIngredients = computed(() => {
    if (!searchQuery.value) return ingredients.value
    return ingredients.value.filter(item =>
      item.name.includes(searchQuery.value)
    )
  })

  const addIngredient = (ingredient: Omit<Ingredient, 'id' | 'addedAt'>) => {
    ingredients.value.push({
      ...ingredient,
      id: generateId(),
      addedAt: new Date()
    })
  }

  const deleteIngredient = (id: string) => {
    const index = ingredients.value.findIndex(item => item.id === id)
    if (index > -1) ingredients.value.splice(index, 1)
  }

  const updateIngredient = (id: string, updates: Partial<Ingredient>) => {
    const item = ingredients.value.find(i => i.id === id)
    if (item) Object.assign(item, updates)
  }

  return {
    ingredients,
    searchQuery,
    editMode,
    filteredIngredients,
    addIngredient,
    deleteIngredient,
    updateIngredient
  }
})
```

### 3.3 é¤æ¡Œé¡µé¢(å½“å‰å†³å®šåšçš„èœ)

**ç»„ä»¶:** `TableModal.vue`

**åŠŸèƒ½æ¨¡å—:**

1. æ˜¾ç¤ºå½“å‰å†³å®šåšçš„èœå“åˆ—è¡¨
2. æŸ¥çœ‹èœå“è¯¦ç»†åšæ³•
3. åˆ é™¤èœå“
4. æ ‡è®°å®Œæˆ(æ¸…ç©ºåˆ—è¡¨å¹¶å‡å°‘é£Ÿæ)

**é¡µé¢å¸ƒå±€:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [X]  ä»Šå¤©åšä»€ä¹ˆ                     â”‚  â† æ ‡é¢˜æ 
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸœ ç•ªèŒ„ç‚’è›‹      [æŸ¥çœ‹][åˆ é™¤]â”‚   â”‚  â† èœå“åˆ—è¡¨
â”‚  â”‚ ğŸ¥˜ å®«ä¿é¸¡ä¸      [æŸ¥çœ‹][åˆ é™¤]â”‚   â”‚
â”‚  â”‚ ğŸ² é…¸è¾£æ±¤        [æŸ¥çœ‹][åˆ é™¤]â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [âœ… å·²å®Œæˆ,å¼€å§‹åšé¥­]                â”‚  â† å®ŒæˆæŒ‰é’®
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**èœå“è¯¦æƒ…é¡µ:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [â†]  ç•ªèŒ„ç‚’è›‹                       â”‚  â† è¿”å›æŒ‰é’®
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“· [èœå“å›¾ç‰‡]                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“ æ‰€éœ€é£Ÿæ:                        â”‚
â”‚  âœ… ç•ªèŒ„ 3ä¸ª (å·²æœ‰)                  â”‚
â”‚  âœ… é¸¡è›‹ 2ä¸ª (å·²æœ‰)                  â”‚
â”‚  âŒ è‘± 1æ ¹ (éœ€è´­ä¹°)                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ‘¨â€ğŸ³ çƒ¹é¥ªæ­¥éª¤:                        â”‚
â”‚  1. ç•ªèŒ„åˆ‡å—,é¸¡è›‹æ‰“æ•£                â”‚
â”‚  2. çƒ­é”…å€’æ²¹,ç‚’é¸¡è›‹è‡³å‡å›º            â”‚
â”‚  3. åŠ å…¥ç•ªèŒ„ç¿»ç‚’                     â”‚
â”‚  ...                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â±ï¸ çƒ¹é¥ªæ—¶é—´: 15åˆ†é’Ÿ                 â”‚
â”‚  ğŸ“Š éš¾åº¦: ç®€å•                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [ğŸ“¤ å¯¼å‡ºä¸ºå›¾ç‰‡] [ğŸ“„ å¯¼å‡ºä¸ºæ–‡æœ¬]     â”‚  â† å¯¼å‡ºæŒ‰é’®
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ•°æ®ç»“æ„:**

```typescript
interface Recipe {
  id: string
  name: string
  cuisine: string
  imageUrl?: string
  ingredients: {
    available: Array<{ name: string; quantity: number; unit: string }>
    needed: Array<{ name: string; quantity: number; unit: string }>
  }
  steps: string[]
  cookingTime: number // åˆ†é’Ÿ
  difficulty: 'ç®€å•' | 'ä¸­ç­‰' | 'å¤æ‚'
  createdAt: Date
}
```

**çŠ¶æ€ç®¡ç†:**

```typescript
// stores/currentRecipes.ts
export const useCurrentRecipesStore = defineStore('currentRecipes', () => {
  const recipes = ref<Recipe[]>([])

  const addRecipe = (recipe: Recipe) => {
    if (!recipes.value.find(r => r.id === recipe.id)) {
      recipes.value.push(recipe)
    }
  }

  const removeRecipe = (id: string) => {
    const index = recipes.value.findIndex(r => r.id === id)
    if (index > -1) recipes.value.splice(index, 1)
  }

  const completeRecipes = () => {
    // å‡å°‘é£Ÿææ•°é‡
    const ingredientsStore = useIngredientsStore()
    recipes.value.forEach(recipe => {
      recipe.ingredients.available.forEach(ing => {
        ingredientsStore.decreaseQuantity(ing.name, ing.quantity)
      })
    })
    // æ¸…ç©ºåˆ—è¡¨
    recipes.value = []
  }

  return { recipes, addRecipe, removeRecipe, completeRecipes }
})
```

### 3.4 èœè°±é¡µé¢(ç”Ÿæˆ/æ”¶è—/å†å²)

**ç»„ä»¶:** `RecipeModal.vue`

**åŠŸèƒ½æ¨¡å—:**

1. ç”Ÿæˆèœè°±
2. æˆ‘çš„æ”¶è—
3. å†å²ç”Ÿæˆè®°å½•
4. å½“å‰å†³å®šåšçš„èœ

**é¡µé¢å¸ƒå±€:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [X]  èœè°±ä¸­å¿ƒ                       â”‚  â† æ ‡é¢˜æ 
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [ç”Ÿæˆ] [æ”¶è—] [å†å²] [å½“å‰]        â”‚  â† Tabå¯¼èˆª
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“‹ Tabå†…å®¹åŒºåŸŸ                      â”‚
â”‚                                     â”‚
â”‚  (æ ¹æ®é€‰ä¸­çš„Tabæ˜¾ç¤ºä¸åŒå†…å®¹)        â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 3.4.1 ç”Ÿæˆèœè°±Tab

**å¸ƒå±€:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ¯ æ ¹æ®å†°ç®±é£Ÿæç”Ÿæˆèœè°±             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å½“å‰é£Ÿæ: ç™½èœã€é¸¡è›‹ã€ç•ªèŒ„ (+3)     â”‚  â† é£Ÿæé¢„è§ˆ
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ç­›é€‰æ¡ä»¶:                           â”‚
â”‚  [ä¸­é¤â–¼] [15åˆ†é’Ÿâ–¼] [ç®€å•â–¼]          â”‚  â† ç­›é€‰å™¨
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [ğŸ² ç”Ÿæˆèœè°±]                       â”‚  â† ç”ŸæˆæŒ‰é’®
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ç”Ÿæˆç»“æœ: (3é“èœè°±)                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸœ ç•ªèŒ„ç‚’è›‹                  â”‚   â”‚  â† èœè°±å¡ç‰‡
â”‚  â”‚ â±ï¸ 15åˆ†é’Ÿ | ğŸ“Š ç®€å•          â”‚   â”‚
â”‚  â”‚ âœ… å·²æœ‰é£Ÿæ: ç•ªèŒ„ã€é¸¡è›‹      â”‚   â”‚
â”‚  â”‚ âŒ éœ€è´­ä¹°: è‘±ã€ç›            â”‚   â”‚
â”‚  â”‚ [â• æ·»åŠ åˆ°é¤æ¡Œ] [â­ æ”¶è—]    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**äº¤äº’æµç¨‹:**

1. ç‚¹å‡»"ç”Ÿæˆèœè°±"æŒ‰é’®
2. æ˜¾ç¤ºåŠ è½½åŠ¨ç”»(éª¨æ¶å±)
3. è°ƒç”¨åç«¯APIç”Ÿæˆ3-5é“èœè°±
4. æ˜¾ç¤ºèœè°±å¡ç‰‡åˆ—è¡¨
5. ç”¨æˆ·å¯ä»¥:
   - ç‚¹å‡»å¡ç‰‡æŸ¥çœ‹è¯¦æƒ…
   - æ·»åŠ åˆ°é¤æ¡Œ(å½“å‰å†³å®šåšçš„èœ)
   - æ”¶è—èœè°±
   - æ£€æŸ¥é£Ÿææ˜¯å¦å……è¶³

**é£Ÿæä¸è¶³æç¤º:**

```typescript
// æ£€æŸ¥é£Ÿææ˜¯å¦å……è¶³
const checkIngredients = (recipe: Recipe) => {
  const ingredientsStore = useIngredientsStore()
  const missingIngredients = recipe.ingredients.needed.filter(ing => {
    const fridgeItem = ingredientsStore.findByName(ing.name)
    return !fridgeItem || fridgeItem.quantity < ing.quantity
  })

  if (missingIngredients.length > 0) {
    // æ˜¾ç¤ºæç¤º: "ç¼ºå°‘é£Ÿæ: è‘±ã€ç›,æ˜¯å¦æ·»åŠ åˆ°è´­ç‰©è½¦?"
    return {
      sufficient: false,
      missing: missingIngredients
    }
  }
  return { sufficient: true, missing: [] }
}
```

#### 3.4.2 æˆ‘çš„æ”¶è—Tab

**å¸ƒå±€:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â­ æˆ‘çš„æ”¶è— (12é“èœ)                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [å…¨éƒ¨] [ä¸­é¤] [è¥¿é¤] [æ—¥éŸ©]        â”‚  â† åˆ†ç±»ç­›é€‰
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸœ ç•ªèŒ„ç‚’è›‹                  â”‚   â”‚  â† æ”¶è—çš„èœè°±
â”‚  â”‚ æ”¶è—äº: 2024-01-15          â”‚   â”‚
â”‚  â”‚ [æŸ¥çœ‹] [å–æ¶ˆæ”¶è—]            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ•°æ®æŒä¹…åŒ–:**

```typescript
// stores/favorites.ts
export const useFavoritesStore = defineStore('favorites', () => {
  const favorites = ref<Recipe[]>([])

  // ä»LocalStorageåŠ è½½
  const loadFavorites = () => {
    const saved = localStorage.getItem('favorites')
    if (saved) favorites.value = JSON.parse(saved)
  }

  // ä¿å­˜åˆ°LocalStorage
  const saveFavorites = () => {
    localStorage.setItem('favorites', JSON.stringify(favorites.value))
  }

  const addFavorite = (recipe: Recipe) => {
    if (!favorites.value.find(r => r.id === recipe.id)) {
      favorites.value.push(recipe)
      saveFavorites()
    }
  }

  const removeFavorite = (id: string) => {
    const index = favorites.value.findIndex(r => r.id === id)
    if (index > -1) {
      favorites.value.splice(index, 1)
      saveFavorites()
    }
  }

  return { favorites, loadFavorites, addFavorite, removeFavorite }
})
```

#### 3.4.3 å†å²è®°å½•Tab

**å¸ƒå±€:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“œ å†å²ç”Ÿæˆè®°å½• (æœ€è¿‘10æ¬¡)          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ 2024-01-15 14:30             â”‚   â”‚  â† å†å²è®°å½•é¡¹
â”‚  â”‚ é£Ÿæ: ç™½èœã€é¸¡è›‹ã€ç•ªèŒ„         â”‚   â”‚
â”‚  â”‚ ç”Ÿæˆäº†3é“èœ                   â”‚   â”‚
â”‚  â”‚ [æŸ¥çœ‹]                        â”‚   â”‚
â”‚  â””â”€â”€ï¿½ï¿½ï¿½â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.5 è´­ç‰©è½¦é¡µé¢(è´­ä¹°æ¸…å•)

**ç»„ä»¶:** `CartModal.vue`

**åŠŸèƒ½æ¨¡å—:**

1. æ˜¾ç¤ºéœ€è¦è´­ä¹°çš„é£Ÿæåˆ—è¡¨
2. ä¿®æ”¹é£Ÿææ•°é‡
3. å¢åˆ é£Ÿæ
4. æ ‡è®°å·²è´­ä¹°(è‡ªåŠ¨æ·»åŠ åˆ°å†°ç®±)

**é¡µé¢å¸ƒå±€:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [X]  è´­ç‰©æ¸…å•                       â”‚  â† æ ‡é¢˜æ 
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“ éœ€è¦è´­ä¹°çš„é£Ÿæ:                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ§… è‘±          1æ ¹  [+][-]  â”‚   â”‚  â† é£Ÿæé¡¹
â”‚  â”‚ ğŸ§‚ ç›          1è¢‹  [+][-]  â”‚   â”‚
â”‚  â”‚ ğŸ›¢ï¸ æ²¹          1ç“¶  [+][-]  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [â• æ·»åŠ é£Ÿæ]                       â”‚  â† æ·»åŠ æŒ‰é’®
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [âœ… å·²è´­ä¹°,æ·»åŠ åˆ°å†°ç®±]              â”‚  â† å®ŒæˆæŒ‰é’®
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ•°æ®ç»“æ„:**

```typescript
interface CartItem {
  id: string
  name: string
  quantity: number
  unit: string
  category: string
  addedAt: Date
  fromRecipe?: string // æ¥è‡ªå“ªé“èœè°±
}
```

**çŠ¶æ€ç®¡ç†:**

```typescript
// stores/cart.ts
export const useCartStore = defineStore('cart', () => {
  const items = ref<CartItem[]>([])

  const addItem = (item: Omit<CartItem, 'id' | 'addedAt'>) => {
    const existing = items.value.find(i => i.name === item.name)
    if (existing) {
      existing.quantity += item.quantity
    } else {
      items.value.push({
        ...item,
        id: generateId(),
        addedAt: new Date()
      })
    }
  }

  const updateQuantity = (id: string, quantity: number) => {
    const item = items.value.find(i => i.id === id)
    if (item) item.quantity = quantity
  }

  const removeItem = (id: string) => {
    const index = items.value.findIndex(i => i.id === id)
    if (index > -1) items.value.splice(index, 1)
  }

  const completePurchase = () => {
    // å°†è´­ç‰©è½¦é£Ÿææ·»åŠ åˆ°å†°ç®±
    const ingredientsStore = useIngredientsStore()
    items.value.forEach(item => {
      ingredientsStore.addIngredient({
        name: item.name,
        quantity: item.quantity,
        unit: item.unit,
        category: item.category as any
      })
    })
    // æ¸…ç©ºè´­ç‰©è½¦
    items.value = []
  }

  return { items, addItem, updateQuantity, removeItem, completePurchase }
})
```

---

## å››ã€ç»„ä»¶è®¾è®¡

### 4.1 é€šç”¨ç»„ä»¶

#### 4.1.1 é®ç½©å±‚ç»„ä»¶ (ModalContainer.vue)

**åŠŸèƒ½:** ç»Ÿä¸€ç®¡ç†æ‰€æœ‰é®ç½©å±‚çš„æ˜¾ç¤ºå’ŒåŠ¨ç”»

**Props:**

```typescript
interface Props {
  visible: boolean
  type: 'fridge' | 'table' | 'recipe' | 'cart' | null
}
```

**å®ç°:**

```vue
<template>
  <Transition name="modal">
    <div v-if="visible" class="modal-overlay" @click.self="close">
      <div class="modal-content">
        <component :is="currentComponent" @close="close" />
      </div>
    </div>
  </Transition>
</template>

<script setup lang="ts">
import { computed } from 'vue'
import FridgeModal from './FridgeModal.vue'
import TableModal from './TableModal.vue'
import RecipeModal from './RecipeModal.vue'
import CartModal from './CartModal.vue'

const props = defineProps<Props>()
const emit = defineEmits<{ close: [] }>()

const currentComponent = computed(() => {
  const components = {
    fridge: FridgeModal,
    table: TableModal,
    recipe: RecipeModal,
    cart: CartModal
  }
  return props.type ? components[props.type] : null
})

const close = () => emit('close')
</script>

<style scoped>
.modal-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.7);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
}

.modal-content {
  background: white;
  border-radius: 16px;
  max-width: 90%;
  max-height: 90%;
  overflow: auto;
}

/* åŠ¨ç”» */
.modal-enter-active,
.modal-leave-active {
  transition: opacity 0.3s ease;
}

.modal-enter-from,
.modal-leave-to {
  opacity: 0;
}

.modal-enter-active .modal-content {
  animation: slideUp 0.3s ease;
}

@keyframes slideUp {
  from {
    transform: translateY(100px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}
</style>
```

#### 4.1.2 èœè°±å¡ç‰‡ç»„ä»¶ (RecipeCard.vue)

**åŠŸèƒ½:** å±•ç¤ºå•ä¸ªèœè°±çš„ä¿¡æ¯

**Props:**

```typescript
interface Props {
  recipe: Recipe
  showActions?: boolean
}
```

**å®ç°:**

```vue
<template>
  <div class="recipe-card">
    <!-- èœè°±å›¾ç‰‡ -->
    <div class="recipe-image">
      <img :src="recipe.imageUrl || defaultImage" :alt="recipe.name" />
    </div>

    <!-- èœè°±ä¿¡æ¯ -->
    <div class="recipe-info">
      <h3 class="recipe-name">{{ recipe.name }}</h3>

      <div class="recipe-meta">
        <span>â±ï¸ {{ recipe.cookingTime }}åˆ†é’Ÿ</span>
        <span>ğŸ“Š {{ recipe.difficulty }}</span>
        <span>ğŸ½ï¸ {{ recipe.cuisine }}</span>
      </div>

      <!-- é£ŸæçŠ¶æ€ -->
      <div class="ingredients-status">
        <div class="available">
          âœ… å·²æœ‰: {{ recipe.ingredients.available.map(i => i.name).join('ã€') }}
        </div>
        <div v-if="recipe.ingredients.needed.length > 0" class="needed">
          âŒ éœ€è´­ä¹°: {{ recipe.ingredients.needed.map(i => i.name).join('ã€') }}
        </div>
      </div>

      <!-- æ“ä½œæŒ‰é’® -->
      <div v-if="showActions" class="recipe-actions">
        <button @click="$emit('add-to-table')">â• æ·»åŠ åˆ°é¤æ¡Œ</button>
        <button @click="$emit('favorite')">â­ æ”¶è—</button>
        <button @click="$emit('view-detail')">ğŸ‘ï¸ æŸ¥çœ‹è¯¦æƒ…</button>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
import { computed } from 'vue'
import type { Recipe } from '@/types'

const props = defineProps<Props>()
const emit = defineEmits<{
  'add-to-table': []
  'favorite': []
  'view-detail': []
}>()

const defaultImage = '/images/recipe-placeholder.png'
</script>
```

#### 4.1.3 åŠ è½½éª¨æ¶å± (RecipeSkeleton.vue)

**åŠŸèƒ½:** åœ¨åŠ è½½èœè°±æ—¶æ˜¾ç¤ºå ä½ç¬¦

**å®ç°:**

```vue
<template>
  <div class="skeleton-card">
    <div class="skeleton-image"></div>
    <div class="skeleton-content">
      <div class="skeleton-title"></div>
      <div class="skeleton-meta"></div>
      <div class="skeleton-text"></div>
      <div class="skeleton-text"></div>
    </div>
  </div>
</template>

<style scoped>
.skeleton-card {
  animation: pulse 1.5s ease-in-out infinite;
}

@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}

.skeleton-image,
.skeleton-title,
.skeleton-meta,
.skeleton-text {
  background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
  background-size: 200% 100%;
  animation: shimmer 1.5s infinite;
}

@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}
</style>
```

### 4.2 ç­›é€‰æ ç»„ä»¶ (FilterBar.vue)

**åŠŸèƒ½:** æä¾›èœç³»ã€æ—¶é—´ã€éš¾åº¦ç­‰ç­›é€‰é€‰é¡¹

**Props:**

```typescript
interface Props {
  modelValue: FilterOptions
}

interface FilterOptions {
  cuisine?: string
  cookingTime?: number
  difficulty?: string
}
```

**å®ç°:**

```vue
<template>
  <div class="filter-bar">
    <select v-model="filters.cuisine" @change="emitChange">
      <option value="">å…¨éƒ¨èœç³»</option>
      <option value="ä¸­é¤">ä¸­é¤</option>
      <option value="è¥¿é¤">è¥¿é¤</option>
      <option value="æ—¥éŸ©">æ—¥éŸ©</option>
      <option value="ä¸œå—äºš">ä¸œå—äºš</option>
    </select>

    <select v-model="filters.cookingTime" @change="emitChange">
      <option value="">ä¸é™æ—¶é—´</option>
      <option :value="15">15åˆ†é’Ÿä»¥å†…</option>
      <option :value="30">30åˆ†é’Ÿä»¥å†…</option>
      <option :value="60">1å°æ—¶ä»¥å†…</option>
    </select>

    <select v-model="filters.difficulty" @change="emitChange">
      <option value="">ä¸é™éš¾åº¦</option>
      <option value="ç®€å•">ç®€å•</option>
      <option value="ä¸­ç­‰">ä¸­ç­‰</option>
      <option value="å¤æ‚">å¤æ‚</option>
    </select>
  </div>
</template>

<script setup lang="ts">
import { reactive } from 'vue'

const props = defineProps<Props>()
const emit = defineEmits<{ 'update:modelValue': [FilterOptions] }>()

const filters = reactive({ ...props.modelValue })

const emitChange = () => {
  emit('update:modelValue', { ...filters })
}
</script>
```

---

## äº”ã€äº¤äº’æµç¨‹è®¾è®¡

### 5.1 æ ¸å¿ƒç”¨æˆ·æµç¨‹

#### æµç¨‹1: é£Ÿæç®¡ç† â†’ èœè°±ç”Ÿæˆ â†’ çƒ¹é¥ªæ‰§è¡Œ

```mermaid
graph TD
    A[æ‰“å¼€åº”ç”¨] --> B[ç‚¹å‡»å†°ç®±]
    B --> C[æ·»åŠ é£Ÿæ]
    C --> D[ç‚¹å‡»èœè°±]
    D --> E[ç”Ÿæˆèœè°±]
    E --> F{é£Ÿææ˜¯å¦å……è¶³?}
    F -->|æ˜¯| G[æ·»åŠ åˆ°é¤æ¡Œ]
    F -->|å¦| H[æ·»åŠ åˆ°è´­ç‰©è½¦]
    H --> I[è´­ä¹°é£Ÿæ]
    I --> J[æ·»åŠ åˆ°å†°ç®±]
    J --> G
    G --> K[ç‚¹å‡»é¤æ¡Œ]
    K --> L[æŸ¥çœ‹è¯¦ç»†åšæ³•]
    L --> M[å¼€å§‹çƒ¹é¥ª]
    M --> N[æ ‡è®°å®Œæˆ]
    N --> O[è‡ªåŠ¨å‡å°‘é£Ÿæ]
```

#### æµç¨‹2: æ”¶è—ä¸å†å²

```mermaid
graph TD
    A[ç”Ÿæˆèœè°±] --> B{å–œæ¬¢è¿™é“èœ?}
    B -->|æ˜¯| C[ç‚¹å‡»æ”¶è—]
    C --> D[ä¿å­˜åˆ°æ”¶è—å¤¹]
    B -->|å¦| E[ç»§ç»­æµè§ˆ]
    E --> F[æŸ¥çœ‹å†å²è®°å½•]
    F --> G[é‡æ–°ç”Ÿæˆå†å²é£Ÿæç»„åˆ]
```

### 5.2 çŠ¶æ€ç®¡ç†æ¶æ„

**å…¨å±€çŠ¶æ€:**

```typescript
// stores/index.ts
export const useAppStore = defineStore('app', () => {
  // ä¸»é¢˜
  const theme = ref<'light' | 'dark'>('light')

  // å½“å‰æ‰“å¼€çš„æ¨¡æ€æ¡†
  const currentModal = ref<string | null>(null)

  // åŠ è½½çŠ¶æ€
  const loading = ref(false)

  // Toasté€šçŸ¥
  const toast = reactive({
    visible: false,
    message: '',
    type: 'info' as 'info' | 'success' | 'error' | 'warning'
  })

  const showToast = (message: string, type = 'info') => {
    toast.message = message
    toast.type = type
    toast.visible = true
    setTimeout(() => toast.visible = false, 3000)
  }

  return { theme, currentModal, loading, toast, showToast }
})
```

**çŠ¶æ€æŒä¹…åŒ–:**

```typescript
// plugins/persistence.ts
import { watch } from 'vue'
import { useIngredientsStore } from '@/stores/ingredients'
import { useFavoritesStore } from '@/stores/favorites'
import { useCartStore } from '@/stores/cart'

export const setupPersistence = () => {
  const ingredientsStore = useIngredientsStore()
  const favoritesStore = useFavoritesStore()
  const cartStore = useCartStore()

  // ç›‘å¬çŠ¶æ€å˜åŒ–å¹¶ä¿å­˜åˆ°LocalStorage
  watch(
    () => ingredientsStore.ingredients,
    (value) => localStorage.setItem('ingredients', JSON.stringify(value)),
    { deep: true }
  )

  watch(
    () => favoritesStore.favorites,
    (value) => localStorage.setItem('favorites', JSON.stringify(value)),
    { deep: true }
  )

  watch(
    () => cartStore.items,
    (value) => localStorage.setItem('cart', JSON.stringify(value)),
    { deep: true }
  )

  // åº”ç”¨å¯åŠ¨æ—¶åŠ è½½æ•°æ®
  const loadData = () => {
    const ingredients = localStorage.getItem('ingredients')
    if (ingredients) ingredientsStore.ingredients = JSON.parse(ingredients)

    const favorites = localStorage.getItem('favorites')
    if (favorites) favoritesStore.favorites = JSON.parse(favorites)

    const cart = localStorage.getItem('cart')
    if (cart) cartStore.items = JSON.parse(cart)
  }

  loadData()
}
```

### 5.3 é¡µé¢è·³è½¬é€»è¾‘

**è·¯ç”±é…ç½®:**

```typescript
// router/index.ts
import { createRouter, createWebHistory } from 'vue-router'
import HomeView from '@/views/HomeView.vue'

const router = createRouter({
  history: createWebHistory(),
  routes: [
    {
      path: '/',
      name: 'home',
      component: HomeView
    },
    {
      path: '/recipe/:id',
      name: 'recipe-detail',
      component: () => import('@/views/RecipeDetailView.vue')
    }
  ]
})

export default router
```

**å¯¼èˆªå®ˆå«:**

```typescript
router.beforeEach((to, from, next) => {
  // å…³é—­æ‰€æœ‰æ¨¡æ€æ¡†
  const navigationStore = useNavigationStore()
  navigationStore.closeModal()

  next()
})
```

---

## å…­ã€åŠŸèƒ½æ¨¡å—è¯¦ç»†è®¾è®¡

### 6.1 é£Ÿæç®¡ç†æ¨¡å—

**æ ¸å¿ƒåŠŸèƒ½:**

1. æ·»åŠ é£Ÿæ(æ‰‹åŠ¨è¾“å…¥ + å¿«é€Ÿé€‰æ‹©)
2. æœç´¢é£Ÿæ
3. ä¿®æ”¹é£Ÿææ•°é‡
4. åˆ é™¤é£Ÿæ
5. é£Ÿæåˆ†ç±»å±•ç¤º

**å¿«é€Ÿé€‰æ‹©å®ç°:**

```typescript
// å¸¸ç”¨é£Ÿææ•°æ®
const commonIngredients = {
  è”¬èœ: ['ç™½èœ', 'ç•ªèŒ„', 'é»„ç“œ', 'åœŸè±†', 'èƒ¡èåœ', 'é’æ¤’'],
  è‚‰ç±»: ['çŒªè‚‰', 'é¸¡è‚‰', 'ç‰›è‚‰', 'ç¾Šè‚‰'],
  æµ·é²œ: ['è™¾', 'é±¼', 'èŸ¹', 'è´ç±»'],
  ä¸»é£Ÿ: ['ç±³é¥­', 'é¢æ¡', 'é¦’å¤´', 'é¢åŒ…'],
  è°ƒå‘³æ–™: ['ç›', 'æ²¹', 'é…±æ²¹', 'é†‹', 'ç³–']
}

// å¿«é€Ÿæ·»åŠ ç»„ä»¶
const QuickAddIngredients = () => {
  const ingredientsStore = useIngredientsStore()

  const addQuick = (name: string, category: string) => {
    ingredientsStore.addIngredient({
      name,
      quantity: 1,
      unit: 'ä»½',
      category: category as any
    })
  }

  return { commonIngredients, addQuick }
}
```

### 6.2 èœè°±ç”Ÿæˆæ¨¡å—

**AI Promptè®¾è®¡:**

```typescript
const generateRecipePrompt = (ingredients: string[], filters: FilterOptions) => {
  return `ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„å¨å¸ˆåŠ©æ‰‹ã€‚ç”¨æˆ·æä¾›äº†ä»¥ä¸‹é£Ÿæï¼š${ingredients.join('ã€')}

è¯·ç”Ÿæˆ 3 é“åˆ›æ„èœè°±,è¦æ±‚ï¼š
1. èœå“å¿…é¡»å¯è¡Œä¸”ç¾å‘³
2. å°½é‡ä½¿ç”¨ç”¨æˆ·æä¾›çš„é£Ÿæ
3. ç¼ºå°‘çš„é£Ÿæè¦å¸¸è§ä¸”æ˜“è´­ä¹°
4. æ­¥éª¤è¯¦ç»†ä½†ä¸å†—é•¿
${filters.cuisine ? `5. èœç³»é™å®šä¸ºï¼š${filters.cuisine}` : ''}
${filters.cookingTime ? `6. çƒ¹é¥ªæ—¶é—´ä¸è¶…è¿‡ï¼š${filters.cookingTime}åˆ†é’Ÿ` : ''}
${filters.difficulty ? `7. éš¾åº¦ç­‰çº§ï¼š${filters.difficulty}` : ''}

è¯·ä¸¥æ ¼æŒ‰ç…§ä»¥ä¸‹ JSON æ ¼å¼è¿”å›ï¼ˆä¸è¦æ·»åŠ ä»»ä½•å…¶ä»–æ–‡æœ¬ï¼‰ï¼š
{
  "recipes": [
    {
      "name": "èœå“åç§°",
      "cuisine": "ä¸­é¤",
      "ingredients": {
        "available": ["ç•ªèŒ„", "é¸¡è›‹"],
        "needed": ["è‘±", "ç›", "æ²¹"]
      },
      "steps": [
        "1. ç•ªèŒ„åˆ‡å—ï¼Œé¸¡è›‹æ‰“æ•£",
        "2. çƒ­é”…å€’æ²¹ï¼Œç‚’é¸¡è›‹è‡³å‡å›º",
        "3. åŠ å…¥ç•ªèŒ„ç¿»ç‚’"
      ],
      "cookingTime": 15,
      "difficulty": "ç®€å•"
    }
  ]
}`
}
```

**APIè°ƒç”¨:**

```typescript
// services/ai.ts
import axios from 'axios'

export const generateRecipes = async (
  ingredients: string[],
  filters: FilterOptions = {}
): Promise<Recipe[]> => {
  try {
    const response = await axios.post('/api/recipes/generate', {
      ingredients,
      filters
    })

    return response.data.data.recipes
  } catch (error) {
    console.error('ç”Ÿæˆèœè°±å¤±è´¥:', error)
    throw new Error('ç”Ÿæˆèœè°±å¤±è´¥,è¯·ç¨åé‡è¯•')
  }
}
```

### 6.3 æ”¶è—ä¸å†å²æ¨¡å—

**æ”¶è—åŠŸèƒ½:**

- ä½¿ç”¨LocalStorageæŒä¹…åŒ–
- æ”¯æŒæŒ‰èœç³»åˆ†ç±»
- æ”¯æŒæœç´¢æ”¶è—çš„èœè°±

**å†å²è®°å½•:**

- ä¿å­˜æœ€è¿‘10æ¬¡ç”Ÿæˆè®°å½•
- è®°å½•é£Ÿæç»„åˆå’Œç”Ÿæˆæ—¶é—´
- æ”¯æŒé‡æ–°ç”Ÿæˆ

**å®ç°:**

```typescript
// stores/history.ts
export const useHistoryStore = defineStore('history', () => {
  const history = ref<HistoryRecord[]>([])
  const maxRecords = 10

  interface HistoryRecord {
    id: string
    ingredients: string[]
    filters: FilterOptions
    recipes: Recipe[]
    createdAt: Date
  }

  const addRecord = (record: Omit<HistoryRecord, 'id' | 'createdAt'>) => {
    history.value.unshift({
      ...record,
      id: generateId(),
      createdAt: new Date()
    })

    // ä¿æŒæœ€å¤š10æ¡è®°å½•
    if (history.value.length > maxRecords) {
      history.value = history.value.slice(0, maxRecords)
    }

    saveToStorage()
  }

  const saveToStorage = () => {
    localStorage.setItem('history', JSON.stringify(history.value))
  }

  const loadFromStorage = () => {
    const saved = localStorage.getItem('history')
    if (saved) history.value = JSON.parse(saved)
  }

  return { history, addRecord, loadFromStorage }
})
```

### 6.4 è´­ç‰©æ¸…å•æ¨¡å—

**è‡ªåŠ¨ç”Ÿæˆè´­ç‰©æ¸…å•:**

```typescript
const generateShoppingList = (recipes: Recipe[]) => {
  const cartStore = useCartStore()
  const ingredientsStore = useIngredientsStore()

  recipes.forEach(recipe => {
    recipe.ingredients.needed.forEach(ing => {
      // æ£€æŸ¥å†°ç®±æ˜¯å¦å·²æœ‰
      const fridgeItem = ingredientsStore.findByName(ing.name)
      if (!fridgeItem || fridgeItem.quantity < ing.quantity) {
        const needed = ing.quantity - (fridgeItem?.quantity || 0)
        cartStore.addItem({
          name: ing.name,
          quantity: needed,
          unit: ing.unit,
          category: 'å¾…åˆ†ç±»',
          fromRecipe: recipe.name
        })
      }
    })
  })
}
```

**æŒ‰è¶…å¸‚åŒºåŸŸåˆ†ç±»:**

```typescript
const categorizeBySection = (items: CartItem[]) => {
  const sections = {
    è”¬èœåŒº: [] as CartItem[],
    è‚‰ç±»åŒº: [] as CartItem[],
    æµ·é²œåŒº: [] as CartItem[],
    ä¸»é£ŸåŒº: [] as CartItem[],
    è°ƒå‘³å“åŒº: [] as CartItem[]
  }

  items.forEach(item => {
    const section = getSectionByCategory(item.category)
    sections[section].push(item)
  })

  return sections
}
```

---

## ä¸ƒã€æŠ€æœ¯å®ç°è¦ç‚¹

### 7.1 æ·±è‰²æ¨¡å¼å®ç°

**Tailwindé…ç½®:**

```typescript
// tailwind.config.ts
export default {
  darkMode: 'class',
  theme: {
    extend: {
      colors: {
        primary: {
          light: '#F59E0B',
          dark: '#D97706'
        },
        background: {
          light: '#FFF8E7',
          dark: '#1F2937'
        }
      }
    }
  }
}
```

**ä¸»é¢˜åˆ‡æ¢:**

```typescript
// stores/theme.ts
export const useThemeStore = defineStore('theme', () => {
  const isDark = ref(false)

  // ä»LocalStorageåŠ è½½
  const loadTheme = () => {
    const saved = localStorage.getItem('theme')
    if (saved) {
      isDark.value = saved === 'dark'
    } else {
      // æ£€æµ‹ç³»ç»Ÿä¸»é¢˜
      isDark.value = window.matchMedia('(prefers-color-scheme: dark)').matches
    }
    applyTheme()
  }

  // åº”ç”¨ä¸»é¢˜
  const applyTheme = () => {
    if (isDark.value) {
      document.documentElement.classList.add('dark')
    } else {
      document.documentElement.classList.remove('dark')
    }
  }

  // åˆ‡æ¢ä¸»é¢˜
  const toggleTheme = () => {
    isDark.value = !isDark.value
    localStorage.setItem('theme', isDark.value ? 'dark' : 'light')
    applyTheme()
  }

  return { isDark, loadTheme, toggleTheme }
})
```

### 7.2 APIé›†æˆ

**Axiosé…ç½®:**

```typescript
// services/api.ts
import axios from 'axios'

const api = axios.create({
  baseURL: import.meta.env.VITE_API_BASE_URL || 'http://localhost:8080',
  timeout: 30000
})

// è¯·æ±‚æ‹¦æˆªå™¨
api.interceptors.request.use(
  (config) => {
    const appStore = useAppStore()
    appStore.loading = true
    return config
  },
  (error) => {
    return Promise.reject(error)
  }
)

// å“åº”æ‹¦æˆªå™¨
api.interceptors.response.use(
  (response) => {
    const appStore = useAppStore()
    appStore.loading = false
    return response
  },
  (error) => {
    const appStore = useAppStore()
    appStore.loading = false
    appStore.showToast(error.message || 'è¯·æ±‚å¤±è´¥', 'error')
    return Promise.reject(error)
  }
)

export default api
```

### 7.3 å›¾ç‰‡æ‡’åŠ è½½

**å®ç°:**

```vue
<template>
  <div class="lazy-image">
    <img
      v-if="loaded"
      :src="src"
      :alt="alt"
      @load="onLoad"
      @error="onError"
    />
    <div v-else class="placeholder">
      <div class="spinner"></div>
    </div>
  </div>
</template>

<script setup lang="ts">
import { ref, onMounted } from 'vue'

const props = defineProps<{
  src: string
  alt: string
}>()

const loaded = ref(false)
const observer = ref<IntersectionObserver | null>(null)

onMounted(() => {
  observer.value = new IntersectionObserver((entries) => {
    if (entries[0].isIntersecting) {
      loaded.value = true
      observer.value?.disconnect()
    }
  })

  observer.value.observe(document.querySelector('.lazy-image')!)
})

const onLoad = () => {
  // å›¾ç‰‡åŠ è½½æˆåŠŸ
}

const onError = () => {
  // å›¾ç‰‡åŠ è½½å¤±è´¥,æ˜¾ç¤ºå ä½å›¾
}
</script>
```

---

## å…«ã€UI/UXç»†èŠ‚

### 8.1 é¢œè‰²æ–¹æ¡ˆ

**æµ…è‰²æ¨¡å¼:**

- ä¸»è‰²: #F59E0B (æš–æ©™)
- èƒŒæ™¯: #FFF8E7 (ç±³é»„)
- æ–‡å­—: #1F2937 (æ·±ç°)
- è¾¹æ¡†: #E5E7EB (æµ…ç°)

**æ·±è‰²æ¨¡å¼:**

- ä¸»è‰²: #F59E0B (æš–æ©™)
- èƒŒæ™¯: #1F2937 (æ·±ç°)
- æ–‡å­—: #F9FAFB (æµ…ç™½)
- è¾¹æ¡†: #374151 (ä¸­ç°)

### 8.2 å­—ä½“æ’ç‰ˆ

**å­—ä½“å®¶æ—:**

```css
font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC',
  'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;
```

**å­—å·è§„èŒƒ:**

- æ ‡é¢˜: 24px / 20px / 18px
- æ­£æ–‡: 16px
- è¾…åŠ©æ–‡å­—: 14px
- å°å­—: 12px

### 8.3 åŠ¨ç”»æ•ˆæœ

**é¡µé¢åˆ‡æ¢:**

```css
.page-enter-active,
.page-leave-active {
  transition: all 0.3s ease;
}

.page-enter-from {
  opacity: 0;
  transform: translateX(20px);
}

.page-leave-to {
  opacity: 0;
  transform: translateX(-20px);
}
```

**æŒ‰é’®äº¤äº’:**

```css
.button {
  transition: all 0.2s ease;
}

.button:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

.button:active {
  transform: translateY(0);
}
```

### 8.4 åŠ è½½çŠ¶æ€

**å…¨å±€åŠ è½½:**

```vue
<template>
  <div v-if="loading" class="loading-overlay">
    <div class="spinner"></div>
    <p>æ­£åœ¨ç”Ÿæˆèœè°±...</p>
  </div>
</template>

<style scoped>
.loading-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.5);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  z-index: 9999;
}

.spinner {
  width: 40px;
  height: 40px;
  border: 4px solid #f3f3f3;
  border-top: 4px solid #F59E0B;
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}
</style>
```

---

## ä¹ã€å¼€å‘ä¼˜å…ˆçº§

### é˜¶æ®µ1: æ ¸å¿ƒMVP (2-3å‘¨)

**å¿…é¡»å®ç°:**

1. âœ… ä¸»ç•Œé¢(å¨æˆ¿èƒŒæ™¯ + å¯¼èˆª)
2. âœ… å†°ç®±é¡µé¢(é£Ÿæç®¡ç†)
3. âœ… èœè°±ç”ŸæˆåŠŸèƒ½
4. âœ… é¤æ¡Œé¡µé¢(å½“å‰èœå“)
5. âœ… æ·±è‰²æ¨¡å¼

### é˜¶æ®µ2: åŠŸèƒ½å¢å¼º (1-2å‘¨)

**é‡è¦åŠŸèƒ½:**

1. âœ… ç­›é€‰ä¸æ’åº
2. âœ… æ”¶è—åŠŸèƒ½
3. âœ… å†å²è®°å½•
4. âœ… è´­ç‰©è½¦åŠŸèƒ½

### é˜¶æ®µ3: è¿›é˜¶åŠŸèƒ½ (2-3å‘¨)

**å¯é€‰åŠŸèƒ½:**

1. â­ æ™ºèƒ½é£Ÿææ›¿ä»£
2. â­ è¥å…»åˆ†æ
3. â­ å¯¼å‡ºåŠŸèƒ½(å›¾ç‰‡/æ–‡æœ¬)
4. â­ ç”¨æˆ·è®¤è¯

---

## åã€æ€»ç»“

æœ¬æ–‡æ¡£è¯¦ç»†è®¾è®¡äº†AIé£Ÿè°±ç”Ÿæˆå™¨çš„å‰ç«¯é¡µé¢,åŒ…æ‹¬:

1. **æ•´ä½“è®¾è®¡:** å¨æˆ¿ä¸»é¢˜çš„æ²‰æµ¸å¼ç•Œé¢,æ¸©é¦¨å‹å¥½çš„è§†è§‰é£æ ¼
2. **é¡µé¢æ¶æ„:** ä¸»ç•Œé¢ + 4ä¸ªåŠŸèƒ½æ¨¡æ€æ¡†(å†°ç®±/é¤æ¡Œ/èœè°±/è´­ç‰©è½¦)
3. **æ ¸å¿ƒåŠŸèƒ½:** é£Ÿæç®¡ç†ã€AIèœè°±ç”Ÿæˆã€æ”¶è—å†å²ã€è´­ç‰©æ¸…å•
4. **æŠ€æœ¯å®ç°:** Vue 3 + TypeScript + Tailwind CSS,å‰åç«¯åˆ†ç¦»æ¶æ„
5. **äº¤äº’è®¾è®¡:** æ¸…æ™°çš„ç”¨æˆ·æµç¨‹,å®Œå–„çš„çŠ¶æ€ç®¡ç†
6. **UI/UX:** æ·±è‰²æ¨¡å¼ã€å“åº”å¼å¸ƒå±€ã€æµç•…åŠ¨ç”»

è¯¥è®¾è®¡æ–¹æ¡ˆå¯ä»¥ç›´æ¥æŒ‡å¯¼å‰ç«¯å¼€å‘,å®ç°ä¸€ä¸ªåŠŸèƒ½å®Œæ•´ã€ä½“éªŒä¼˜ç§€çš„AIé£Ÿè°±ç”Ÿæˆåº”ç”¨ã€‚
